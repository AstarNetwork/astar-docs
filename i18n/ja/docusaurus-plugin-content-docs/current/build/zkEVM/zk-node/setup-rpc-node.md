---
sidebar_position: 0
title: Astar zkEVM パーミッションレス RPCノードのセットアップ
sidebar_label: zkEVM RPCのセットアップ
---

## 概要

オペレータは、パーミッションレスRPCノードを**Astar zkEVM**にデプロイできます。

DAppプロジェクトは、公共インフラに頼らず、必要なブロックチェーンデータを取得するために独自のRPCノードを実行する必要があります。 公開されているエンドポイントは、接続しているユーザーが多いため、応答が遅くなることがあり、アクセスの頻度が制限されています。

## Requirements

### System

:::note
ネットワークが拡大するにつれて、ストレージスペースの要件が増大します。
:::

-
- 4コアのCPU
- 100GBのストレージ (時間の経過とともに増加します)

### Prerequisites

このチュートリアルでは、コンピューターに `docker` と `docker-compose` がインストールされている必要があります。 インストールされていない場合は、以下のリンクを確認してください:

-
-

### イーサリアムRPCノード

**Astar zkEVM** ノードを実行するには、Ethereum RPCノードが必要です。
Ethereum RPCの実行には2つのオプションがあります:

- 独自の設定 - [Geth client](https://geth.ethereum.org/docs/getting-started/installing-geth) はその一例です。
- RPCプロバイダーのエンドポイントを使用する - Astar上で開発するデベロッパーは、特別なオファーやプロモーションを受けることができます。

このドキュメントでは、Ethereumノードのインストールについて説明していません。 このドキュメントでは公開されているRPCエンドポイントを使用します。しかし、**これはプロダクトレベルでは実行可能ではない**ことに留意してください。公開されているエンドポイントにはアクセス頻度に制限があり、結果としてAstar zkEVMノードが正しく同期しない可能性があります。

## zkNode の設定

このセクションでは、**Astar zkEVM** RPCノードの機能に必要な5つのコンテナを起動します。

-
-
-
-
-

このDocsの執筆時点で、**zKatana testnet** は **Astar zkEVM** に利用可能な唯一のネットワークです。 そしてL1のイーサリアム**セポリアテストネット**に接続されています。

zKatana testnet上で開発していきましょう。

設定、インストール、およびデータ専用のディレクトリをそれぞれ作成します。

```bash
```

ローカル変数を設定します。

```
```

アーティファクトをダウンロードし、抽出します。

```bash
```

envファイルをコピーし、L1のRPCのURLを編集します。

```bash
```

パラメータを変更します。

```bash
```

ノードの設定ファイルを編集します。

```bash
```

次のパラメータを変更します。セキュリティを強化するために、データベースのデフォルトのユーザーおよびパスワードを変更することもできます。

```
```

コンテナを起動します。

```bash
```

すべてのコンテナが起動し、動作していることを確認します。ステータスがUpになっているコンテナが5つ表示されるはずです。

```bash
```

これで**Astar zkEVM** RPCノードがポート8545上で動作するようになりました。あとは同期するのを待つだけです。

## RPCを使用する

コンテナログを表示します。

```bash
sudo docker logs -fn30 <container-name>
```

RPCリクエストをテストします。

```bash
```

コンテナを停止します。

```bash
```

## その他

### トレーシングを有効にする

RPCでトレース機能（`debug`と`txpool`モジュール）を有効にするには、`docker-compose`ファイルの`zkevm-rpc`コンテナに次のコマンドを追加します：

```
```

### 外部からのアクセス

RPCエンドポイントのURLを外部から利用できるようにするには、HTTPサーバーを追加することをお勧めします。
nginx serverをインストールするには、[nginx server セクション](/docs/build/nodes/archive-node/nginx)を参照してください。
